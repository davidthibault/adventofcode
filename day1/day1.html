<!doctype html>
<html lang="fr">

<head>
    <meta charset="utf-8">
    <title>Advent of code</title>
</head>

<body>
    <h1>Advent of code 2021 : Day 1</h1>
    <div id="results-1"></div>
    <div id="results-2"></div>
    <script>
        const url = "input1.txt";
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                const results = xhttp.responseText.split('\n');
                let upCounter = 0;
                for (let index = 1; index < results.length; index++) {
                    if (parseInt(results[index]) >= parseInt(results[index - 1]))
                        upCounter++;
                }
                document.getElementById("results-1").innerHTML = "First part answer : " + upCounter;

                upCounter = 0;
                for (let index = 1; index < results.length - 2; index += 1) {
                    const previousCount = parseInt(results[index - 1]) + parseInt(results[index]) + parseInt(results[index + 1]);
                    const currentCount = parseInt(results[index]) + parseInt(results[index + 1]) + parseInt(results[index + 2]);
                    if (currentCount > previousCount)
                        upCounter++;
                }
                document.getElementById("results-2").innerHTML = "Second part answer : " + upCounter;
            }
        };
        xhttp.open("GET", url, true);
        xhttp.send();
    </script>
    <br />
    <a href="../index.html">Menu</a>
</body>

</html>